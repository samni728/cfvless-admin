# ğŸ”§ GitHub Actions éƒ¨ç½²é—®é¢˜ä¿®å¤æŒ‡å—

## é—®é¢˜åˆ†æ

æ‚¨é‡åˆ°çš„é”™è¯¯ï¼š
```
âœ˜ [ERROR] A request to the Cloudflare API (/accounts/***/pages/projects/cfvless-admin) failed.
Project not found. The specified project name does not match any of your existing projects. [code: 8000007]
```

**æ ¹æœ¬åŸå› **ï¼šGitHub Actions å°è¯•éƒ¨ç½²åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„ Cloudflare Pages é¡¹ç›®ã€‚

## ğŸš€ è§£å†³æ–¹æ¡ˆï¼ˆä¸¤ç§æ–¹å¼ï¼‰

### æ–¹æ¡ˆä¸€ï¼šæ‰‹åŠ¨åˆ›å»ºé¡¹ç›®ï¼ˆæ¨èï¼Œæœ€ç¨³å®šï¼‰

#### æ­¥éª¤ 1ï¼šåœ¨ Cloudflare Dashboard åˆ›å»ºé¡¹ç›®

1. **ç™»å½• Cloudflare Dashboard**
   - è®¿é—®ï¼šhttps://dash.cloudflare.com/
   - è¿›å…¥ **Workers å’Œ Pages** â†’ **Pages**

2. **åˆ›å»ºæ–°é¡¹ç›®**
   - ç‚¹å‡» **åˆ›å»ºåº”ç”¨ç¨‹åº**
   - é€‰æ‹© **è¿æ¥åˆ° Git**
   - é€‰æ‹©æ‚¨ fork çš„ `cfvless-admin` ä»“åº“

3. **é…ç½®æ„å»ºè®¾ç½®**
   ```
   æ¡†æ¶é¢„è®¾: None
   æ„å»ºå‘½ä»¤: (ç•™ç©º)
   æ„å»ºè¾“å‡ºç›®å½•: (ç•™ç©º)
   æ ¹ç›®å½•: (ç•™ç©º)
   ```

4. **ä¿å­˜å¹¶éƒ¨ç½²**
   - ç‚¹å‡» **ä¿å­˜å¹¶éƒ¨ç½²**
   - ç­‰å¾…é¦–æ¬¡éƒ¨ç½²å®Œæˆï¼ˆå¯èƒ½ä¼šå¤±è´¥ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼‰

#### æ­¥éª¤ 2ï¼šè§¦å‘ GitHub Actions

1. **æ¨é€ä»£ç è§¦å‘éƒ¨ç½²**
   ```bash
   git add .
   git commit -m "ä¿®å¤éƒ¨ç½²é…ç½®"
   git push origin main
   ```

2. **æˆ–æ‰‹åŠ¨è§¦å‘**
   - è¿›å…¥ GitHub ä»“åº“ â†’ Actions
   - é€‰æ‹© "Deploy to Cloudflare Pages (Fixed)"
   - ç‚¹å‡» "Run workflow"

### æ–¹æ¡ˆäºŒï¼šè‡ªåŠ¨åˆ›å»ºé¡¹ç›®ï¼ˆå·²ä¼˜åŒ–ï¼‰

æˆ‘å·²ç»æ›´æ–°äº† GitHub Actions å·¥ä½œæµï¼Œç°åœ¨å®ƒä¼šï¼š

1. **å°è¯•éƒ¨ç½²åˆ°ç°æœ‰é¡¹ç›®**
2. **å¦‚æœé¡¹ç›®ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨åˆ›å»ºæ–°é¡¹ç›®**
3. **é‡æ–°éƒ¨ç½²åˆ°æ–°åˆ›å»ºçš„é¡¹ç›®**

ç›´æ¥æ¨é€ä»£ç å³å¯ï¼š
```bash
git add .
git commit -m "ä½¿ç”¨è‡ªåŠ¨åˆ›å»ºé¡¹ç›®çš„éƒ¨ç½²æµç¨‹"
git push origin main
```

## ğŸ“‹ å·²å®Œæˆçš„é…ç½®ä¿®å¤

### 1. ä¿®å¤äº† wrangler.toml é…ç½®

**ä¹‹å‰çš„é—®é¢˜**ï¼š
- ä½¿ç”¨äº† Workers çš„é…ç½®æ ¼å¼
- ç¼ºå°‘ `pages_build_output_dir` å­—æ®µ

**ç°åœ¨çš„é…ç½®**ï¼š
```toml
name = "cfvless-admin"
compatibility_date = "2024-01-01"

[pages_build]
pages_build_output_dir = "./"

[vars]
ENVIRONMENT = "production"

[[d1_databases]]
binding = "DB"
database_name = "subscription-db"

[[kv_namespaces]]
binding = "subscription"
```

### 2. ä¼˜åŒ–äº† GitHub Actions å·¥ä½œæµ

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… è‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„ Pages é¡¹ç›®
- âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶
- âœ… è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—
- âœ… ç¯å¢ƒéªŒè¯

## âš ï¸ éƒ¨ç½²åå¿…é¡»å®Œæˆçš„é…ç½®

æ— è®ºä½¿ç”¨å“ªç§æ–¹æ¡ˆï¼Œéƒ¨ç½²æˆåŠŸåéƒ½éœ€è¦åœ¨ Cloudflare Dashboard ä¸­æ‰‹åŠ¨ç»‘å®šèµ„æºï¼š

### 1. ç»‘å®š D1 æ•°æ®åº“

1. **è¿›å…¥ Pages é¡¹ç›®è®¾ç½®**
   - Cloudflare Dashboard â†’ Workers å’Œ Pages â†’ Pages â†’ cfvless-admin
   - ç‚¹å‡» **è®¾ç½®** â†’ **å‡½æ•°**

2. **æ·»åŠ  D1 ç»‘å®š**
   - åœ¨ **D1 æ•°æ®åº“ç»‘å®š** éƒ¨åˆ†ç‚¹å‡» **æ·»åŠ ç»‘å®š**
   - å˜é‡åï¼š`DB`
   - D1 æ•°æ®åº“ï¼šé€‰æ‹© `subscription-db`

### 2. ç»‘å®š KV å‘½åç©ºé—´

1. **æ·»åŠ  KV ç»‘å®š**
   - åœ¨ **KV å‘½åç©ºé—´ç»‘å®š** éƒ¨åˆ†ç‚¹å‡» **æ·»åŠ ç»‘å®š**
   - å˜é‡åï¼š`subscription`
   - KV å‘½åç©ºé—´ï¼šé€‰æ‹©å¯¹åº”çš„å‘½åç©ºé—´

### 3. ä¿å­˜å¹¶é‡æ–°éƒ¨ç½²

- ç‚¹å‡» **ä¿å­˜**
- Pages ä¼šè‡ªåŠ¨è§¦å‘é‡æ–°éƒ¨ç½²
- ç­‰å¾…éƒ¨ç½²å®Œæˆ

## ğŸ” éªŒè¯éƒ¨ç½²æˆåŠŸ

1. **è®¿é—®åº”ç”¨**
   - URL: https://cfvless-admin.pages.dev
   - æ£€æŸ¥é¡µé¢æ˜¯å¦æ­£å¸¸åŠ è½½

2. **æ£€æŸ¥åŠŸèƒ½**
   - å°è¯•æ³¨å†Œ/ç™»å½•åŠŸèƒ½
   - æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸

3. **æŸ¥çœ‹æ—¥å¿—**
   - Cloudflare Dashboard â†’ Pages â†’ cfvless-admin â†’ å‡½æ•°
   - æŸ¥çœ‹å®æ—¶æ—¥å¿—ç¡®è®¤æ— é”™è¯¯

## ğŸ¯ æ¨èæµç¨‹

**å¯¹äºæ–°ç”¨æˆ·ï¼Œæ¨èä½¿ç”¨æ–¹æ¡ˆä¸€**ï¼š
1. æ‰‹åŠ¨åœ¨ Dashboard åˆ›å»ºé¡¹ç›®ï¼ˆ5åˆ†é’Ÿï¼‰
2. æ¨é€ä»£ç è§¦å‘è‡ªåŠ¨éƒ¨ç½²
3. æ‰‹åŠ¨ç»‘å®š D1 å’Œ KV èµ„æº
4. éªŒè¯åŠŸèƒ½æ­£å¸¸

è¿™æ ·å¯ä»¥ç¡®ä¿æœ€é«˜çš„æˆåŠŸç‡å’Œæœ€å°‘çš„é—®é¢˜ã€‚

## ğŸ“ å¦‚æœä»æœ‰é—®é¢˜

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ä»ç„¶é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ï¼š

1. **å®Œæ•´çš„ GitHub Actions æ—¥å¿—**
2. **Cloudflare Dashboard ä¸­çš„é”™è¯¯ä¿¡æ¯**
3. **å…·ä½“çš„é”™è¯¯æ­¥éª¤**

æˆ‘ä¼šè¿›ä¸€æ­¥ååŠ©æ‚¨è§£å†³é—®é¢˜ã€‚